{% extends 'base.html.twig' %}

{% block title %}Suites{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1 style="display:inline;">Suites</h1>

    <form method="get" action="{{ path('dashboard') }}" style="display:inline; margin-left: 6px; vertical-align: super;">
        <input type="submit" value="Dashboard">
    </form>

    <form method="post" action="{{ path('log_out_handle') }}" style="display:inline; margin-left: 6px; vertical-align: super;">
        <input type="submit" value="Log out">
    </form>

    <h2>Suites</h2>
    {{ include ('partial/suite/list.html.twig') }}

    <h3>Add suite</h3>

    {% if sources|length == 0 %}
        A test suite need a test source. <a href="{{ path('sources') }}">Add a source</a> before adding a suite.
    {% else %}
        <form
                id="suite_add"
                method="post"
                action="{{ path('suites') }}"
        >

            <label
                    for="suite_add_source_id"
            >
                Test source
            </label>
            <select name="source_id" id="suite_add_source_id">
                {% for source in sources %}
                    <option value="{{ source.id }}">({{ source.type }} source) {{ source.label }}</option>
                {% endfor %}
            </select>
            <br>

            <label
                    for="suite_add_label"
            >
                Label
            </label>
            <input
                    id="suite_add_label"
                    type="text" name="label"
            >
            <br>

            <label
                    for="suite_add_tests"
            >
                Tests (filenames as present in source, one per line)
            </label>

            <textarea
                    id="suite_add_tests"
                    rows="20"
                    cols="80"
                    name="tests"
            ></textarea>
            <br>

            <input type="submit" value="Add suites">
        </form>
    {% endif %}
</div>
{% endblock %}
